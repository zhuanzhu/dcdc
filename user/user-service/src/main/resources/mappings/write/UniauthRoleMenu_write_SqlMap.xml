<?xml version="1.0" encoding="UTF-8"?> 
<!-- 
 **
 * Created By: XI
 * Created On: 2018-10-25 10:15:10
 *
 * Amendment History:
 * 
 * Amended By       Amended On      Amendment Description
 * ************     ***********     *********************************************
 *
 **
 -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.egeo.components.user.dao.write.UniauthRoleMenuMapper">
	<sql id="commonCondition">
		<if test="rmid!= null and rmid!= ''"> 
			AND rmid=#{rmid}
		</if>
		<if test="rid!= null and rid!= ''"> 
			AND rid=#{rid}
		</if>
		<if test="menuCode!= null and menuCode!= ''"> 
			AND menu_code=#{menuCode}
		</if>
	</sql>
	
	<insert id="insertBatch" parameterType="java.util.List" >
		<![CDATA[ INSERT INTO uniauth_role_menu (
				 rid
				, menu_code
				 ) VALUES
				  ]]>
				 <foreach collection ="list" item="item" index= "index" separator =",">
					 (
					 #{item.rid}
					, #{item.menuCode}
					)
  				</foreach >
	</insert>

	<delete id="deleteByProperty" parameterType="com.egeo.components.user.bean.UniauthRoleMenu">
		DELETE FROM uniauth_role_menu WHERE 1 = 1
		<include refid="commonCondition"/>
	</delete>
</mapper>