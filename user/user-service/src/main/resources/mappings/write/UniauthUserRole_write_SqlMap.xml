<?xml version="1.0" encoding="UTF-8"?> 
<!-- 
 **
 * Created By: XI
 * Created On: 2018-10-25 10:15:10
 *
 * Amendment History:
 * 
 * Amended By       Amended On      Amendment Description
 * ************     ***********     *********************************************
 *
 **
 -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.egeo.components.user.dao.write.UniauthUserRoleMapper">
	<sql id="commonCondition">
		<if test="uid!= null and uid!= ''">
			AND uid=#{uid}
		</if>
		<if test="rid!= null and rid!= ''"> 
			AND rid=#{rid}
		</if>
	</sql>
	
	<insert id="insertBatch" parameterType="java.util.List" >
		<![CDATA[ INSERT INTO uniauth_user_role (
				 rid
				, uid
				 ) VALUES
				  ]]>
				 <foreach collection ="list" item="item" index= "index" separator =",">
					 (
					 #{item.rid}
					, #{item.uid}
					)
  				</foreach >
	</insert>

	<delete id="deleteByProperty" parameterType="com.egeo.components.user.bean.UniAuthUserRole">
		DELETE FROM uniauth_user_role WHERE 1 = 1
		<include refid="commonCondition"/>
	</delete>

	<select id="findByCount" parameterType="com.egeo.components.user.bean.UniAuthUserRole" resultType="int">
		SELECT count(1) AS totalcount FROM uniauth_user_role WHERE 1=1
		<include refid="commonCondition"/>
	</select>


	<insert id="insertBatchAccountRole" parameterType="java.util.List" >
		<![CDATA[ INSERT INTO uniauth_user_account_role (
				 rid
				, uid
				 ) VALUES
				  ]]>
		<foreach collection ="list" item="item" index= "index" separator =",">
			(
			#{item.rid}
			, #{item.uid}
			)
		</foreach >
	</insert>

	<delete id="deleteByPropertyAccountRole" parameterType="com.egeo.components.user.bean.UniAuthUserRole">
		DELETE FROM uniauth_user_account_role WHERE 1 = 1
		<include refid="commonCondition"/>
	</delete>
</mapper>