<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.egeo.components.finance.dao.write.AccountBatchTmpWriteDAO">

	<update id="changeAccountBatchTmpStatus">
		update account_batch_tmp
		set status=#{status},
		exam_reason=#{reason}
		where id=#{id}
	</update>

	<insert id="insert" parameterType="com.egeo.components.finance.po.AccountBatchTmpPO">
		INSERT INTO account_batch_tmp(
        <trim suffixOverrides=",">
			<if test="outflowAccountid != null">
				outflow_accountid,
			</if>
			<if test="inflowAccountid != null">
				inflow_accountid,
			</if>
			<if test="finBatch != null">
				fin_batch,
			</if>
			<if test="sum != null">
				sum,
			</if>
			<if test="reasonId != null">
				reason_id,
			</if>
			<if test="remark != null">
				remark,
			</if>
			<if test="status != null">
				status,
			</if>
			<if test="operatorId != null">
				operator_id,
			</if>
			<if test="createTime != null">
				create_time,
			</if>
			<if test="updateTime != null">
				update_time,
			</if>
			<if test="platformId != null">
				platform_id,
			</if>
			<if test="type != null">
				type,
			</if>
			<if test="companyId != null">
				company_id,
			</if>
			<if test="examReason != null">
				exam_reason,
			</if>
        </trim>		
		) VALUES (
        <trim suffixOverrides=",">
			<if test="outflowAccountid != null">
				#{outflowAccountid},
			</if>
			<if test="inflowAccountid != null">
				#{inflowAccountid},
			</if>
			<if test="finBatch != null">
				#{finBatch},
			</if>
			<if test="sum != null">
				#{sum},
			</if>
			<if test="reasonId != null">
				#{reasonId},
			</if>
			<if test="remark != null">
				#{remark},
			</if>
			<if test="status != null">
				#{status},
			</if>
			<if test="operatorId != null">
				#{operatorId},
			</if>
			<if test="createTime != null">
				#{createTime},
			</if>
			<if test="updateTime != null">
				#{updateTime},
			</if>
			<if test="platformId != null">
				#{platformId},
			</if>
			<if test="type != null">
				#{type},
			</if>
			<if test="companyId != null">
				#{companyId},
			</if>
			<if test="examReason != null">
				#{examReason},
			</if>
        </trim>		
		)
		<selectKey keyProperty="id" resultType="java.lang.Long">
			select LAST_INSERT_ID()
		</selectKey>
	</insert>


	
	
	<update id="update">
	UPDATE account_batch_tmp 
		<set>
			<if test="outflowAccountid != null">
				outflow_accountid = #{outflowAccountid},
			</if>			
			<if test="inflowAccountid != null">
				inflow_accountid = #{inflowAccountid},
			</if>			
			<if test="finBatch != null">
				fin_batch = #{finBatch},
			</if>			
			<if test="sum != null">
				sum = #{sum},
			</if>			
			<if test="reasonId != null">
				reason_id = #{reasonId},
			</if>			
			<if test="remark != null">
				remark = #{remark},
			</if>			
			<if test="status != null">
				status = #{status},
			</if>			
			<if test="operatorId != null">
				operator_id = #{operatorId},
			</if>			
			<if test="createTime != null">
				create_time = #{createTime},
			</if>			
			<if test="updateTime != null">
				update_time = #{updateTime},
			</if>			
			<if test="platformId != null">
				platform_id = #{platformId},
			</if>			
			<if test="type != null">
				type = #{type},
			</if>			
			<if test="companyId != null">
				company_id = #{companyId},
			</if>
			<if test="examReason != null">
				exam_reason=#{examReason},
			</if>			
		</set>
			WHERE id = #{id}
	</update>	
	

	<delete id="delete">
		delete from account_batch_tmp where id = #{id}
	</delete>

	<delete id="deleteByPara">
		delete from account_batch_tmp 
		<where>
			<if test="outflowAccountid != null">
				and outflow_accountid = #{outflowAccountid}
			</if>
			<if test="inflowAccountid != null">
				and inflow_accountid = #{inflowAccountid}
			</if>
			<if test="finBatch != null">
				and fin_batch = #{finBatch}
			</if>
			<if test="sum != null">
				and sum = #{sum}
			</if>
			<if test="reasonId != null">
				and reason_id = #{reasonId}
			</if>
			<if test="remark != null">
				and remark = #{remark}
			</if>
			<if test="status != null">
				and status = #{status}
			</if>
			<if test="operatorId != null">
				and operator_id = #{operatorId}
			</if>
			<if test="createTime != null">
				and create_time = #{createTime}
			</if>
			<if test="updateTime != null">
				and update_time = #{updateTime}
			</if>
			<if test="platformId != null">
				and platform_id = #{platformId}
			</if>
			<if test="type != null">
				and type = #{type}
			</if>
			<if test="companyId != null">
				and company_id = #{companyId}
			</if>
			<if test="examReason != null">
				and exam_reason=#{examReason}
			</if>
		</where>
	</delete>


</mapper>
	