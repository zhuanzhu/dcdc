<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.egeo.components.order.dao.write.ReceiverAddressWriteDAO">
	<insert id="insert" parameterType="com.egeo.components.order.po.ReceiverAddressPO">
		INSERT INTO receiver_address(
		<trim suffixOverrides=",">
			<if test="goodReceiverAddress != null">
				good_receiver_address,
			</if>
			<if test="goodReceiverPostcode != null">
				good_receiver_postcode,
			</if>
			<if test="goodReceiverName != null">
				good_receiver_name,
			</if>
			<if test="goodReceiverMobile != null">
				good_receiver_mobile,
			</if>
			<if test="goodReceiverPhone != null">
				good_receiver_phone,
			</if>
			<if test="goodReceiverCountryId != null">
				good_receiver_country_id,
			</if>
			<if test="goodReceiverCountry != null">
				good_receiver_country,
			</if>
			<if test="goodReceiverProvinceId != null">
				good_receiver_province_id,
			</if>
			<if test="goodReceiverProvince != null">
				good_receiver_province,
			</if>
			<if test="goodReceiverCityId != null">
				good_receiver_city_id,
			</if>
			<if test="goodReceiverCity != null">
				good_receiver_city,
			</if>
			<if test="goodReceiverCountyId != null">
				good_receiver_county_id,
			</if>
			<if test="goodReceiverCounty != null">
				good_receiver_county,
			</if>
			<if test="goodReceiverAreaId != null">
				good_receiver_area_id,
			</if>
			<if test="goodReceiverArea != null">
				good_receiver_area,
			</if>
			<if test="userId != null">
				user_id,
			</if>
			<if test="type != null">
				type,
			</if>
			<if test="createTime != null">
				create_time,
			</if>
			<if test="updateTime != null">
				update_time,
			</if>
			<if test="platformId != null">
				platform_id,
			</if>
			<if test="isDefault != null">
				is_default,
			</if>
			<if test="modifyMail != null">
				modify_mail,
			</if>
			<if test="soChildCode != null">
				so_child_code,
			</if>
		</trim>
		) VALUES (
		<trim suffixOverrides=",">
			<if test="goodReceiverAddress != null">
				#{goodReceiverAddress},
			</if>
			<if test="goodReceiverPostcode != null">
				#{goodReceiverPostcode},
			</if>
			<if test="goodReceiverName != null">
				#{goodReceiverName},
			</if>
			<if test="goodReceiverMobile != null">
				#{goodReceiverMobile},
			</if>
			<if test="goodReceiverPhone != null">
				#{goodReceiverPhone},
			</if>
			<if test="goodReceiverCountryId != null">
				#{goodReceiverCountryId},
			</if>
			<if test="goodReceiverCountry != null">
				#{goodReceiverCountry},
			</if>
			<if test="goodReceiverProvinceId != null">
				#{goodReceiverProvinceId},
			</if>
			<if test="goodReceiverProvince != null">
				#{goodReceiverProvince},
			</if>
			<if test="goodReceiverCityId != null">
				#{goodReceiverCityId},
			</if>
			<if test="goodReceiverCity != null">
				#{goodReceiverCity},
			</if>
			<if test="goodReceiverCountyId != null">
				#{goodReceiverCountyId},
			</if>
			<if test="goodReceiverCounty != null">
				#{goodReceiverCounty},
			</if>
			<if test="goodReceiverAreaId != null">
				#{goodReceiverAreaId},
			</if>
			<if test="goodReceiverArea != null">
				#{goodReceiverArea},
			</if>
			<if test="userId != null">
				#{userId},
			</if>
			<if test="type != null">
				#{type},
			</if>
			<if test="createTime != null">
				#{createTime},
			</if>
			<if test="updateTime != null">
				#{updateTime},
			</if>
			<if test="platformId != null">
				#{platformId},
			</if>
			<if test="isDefault != null">
				#{isDefault},
			</if>
			<if test="modifyMail != null">
				#{modifyMail},
			</if>
			<if test="soChildCode != null">
				#{soChildCode},
			</if>

		</trim>
		)
		<selectKey keyProperty="id" resultType="java.lang.Long">
			select
			LAST_INSERT_ID()
		</selectKey>
	</insert>




	<update id="update">
		UPDATE receiver_address
		<set>
			<if test="goodReceiverAddress != null">
				good_receiver_address = #{goodReceiverAddress},
			</if>
			<if test="goodReceiverPostcode != null">
				good_receiver_postcode = #{goodReceiverPostcode},
			</if>
			<if test="goodReceiverName != null">
				good_receiver_name = #{goodReceiverName},
			</if>
			<if test="goodReceiverMobile != null">
				good_receiver_mobile = #{goodReceiverMobile},
			</if>
			<if test="goodReceiverPhone != null">
				good_receiver_phone = #{goodReceiverPhone},
			</if>
			<if test="goodReceiverCountryId != null">
				good_receiver_country_id = #{goodReceiverCountryId},
			</if>
			<if test="goodReceiverCountry != null">
				good_receiver_country = #{goodReceiverCountry},
			</if>
			<if test="goodReceiverProvinceId != null">
				good_receiver_province_id = #{goodReceiverProvinceId},
			</if>
			<if test="goodReceiverProvince != null">
				good_receiver_province = #{goodReceiverProvince},
			</if>
			<if test="goodReceiverCityId != null">
				good_receiver_city_id = #{goodReceiverCityId},
			</if>
			<if test="goodReceiverCity != null">
				good_receiver_city = #{goodReceiverCity},
			</if>
			<if test="goodReceiverCountyId != null">
				good_receiver_county_id = #{goodReceiverCountyId},
			</if>
			<if test="goodReceiverCounty != null">
				good_receiver_county = #{goodReceiverCounty},
			</if>
			<if test="goodReceiverAreaId != null">
				good_receiver_area_id = #{goodReceiverAreaId},
			</if>
			<if test="goodReceiverArea != null">
				good_receiver_area = #{goodReceiverArea},
			</if>
			<if test="userId != null">
				user_id = #{userId},
			</if>
			<if test="type != null">
				type = #{type},
			</if>
			<if test="createTime != null">
				create_time = #{createTime},
			</if>
			<if test="updateTime != null">
				update_time = #{updateTime},
			</if>
			<if test="platformId != null">
				platform_id = #{platformId},
			</if>
			<if test="isDefault != null">
				is_default = #{isDefault},
			</if>
			<if test="modifyMail != null">
				modify_mail = #{modifyMail},
			</if>
			<if test="soChildCode != null">
				so_child_code = #{soChildCode},
			</if>
		</set>
		WHERE id = #{id}
	</update>


	<delete id="delete">
		delete from receiver_address where id = #{id}
	</delete>

	<delete id="deleteByPara">
		delete from receiver_address
		<where>
			<if test="goodReceiverAddress != null">
				and good_receiver_address = #{goodReceiverAddress}
			</if>
			<if test="goodReceiverPostcode != null">
				and good_receiver_postcode = #{goodReceiverPostcode}
			</if>
			<if test="goodReceiverName != null">
				and good_receiver_name = #{goodReceiverName}
			</if>
			<if test="goodReceiverMobile != null">
				and good_receiver_mobile = #{goodReceiverMobile}
			</if>
			<if test="goodReceiverPhone != null">
				and good_receiver_phone = #{goodReceiverPhone}
			</if>
			<if test="goodReceiverCountryId != null">
				and good_receiver_country_id = #{goodReceiverCountryId}
			</if>
			<if test="goodReceiverCountry != null">
				and good_receiver_country = #{goodReceiverCountry}
			</if>
			<if test="goodReceiverProvinceId != null">
				and good_receiver_province_id = #{goodReceiverProvinceId}
			</if>
			<if test="goodReceiverProvince != null">
				and good_receiver_province = #{goodReceiverProvince}
			</if>
			<if test="goodReceiverCityId != null">
				and good_receiver_city_id = #{goodReceiverCityId}
			</if>
			<if test="goodReceiverCity != null">
				and good_receiver_city = #{goodReceiverCity}
			</if>
			<if test="goodReceiverCountyId != null">
				and good_receiver_county_id = #{goodReceiverCountyId}
			</if>
			<if test="goodReceiverCounty != null">
				and good_receiver_county = #{goodReceiverCounty}
			</if>
			<if test="goodReceiverAreaId != null">
				and good_receiver_area_id = #{goodReceiverAreaId}
			</if>
			<if test="goodReceiverArea != null">
				and good_receiver_area = #{goodReceiverArea}
			</if>
			<if test="userId != null">
				and user_id = #{userId}
			</if>
			<if test="type != null">
				and type = #{type}
			</if>
			<if test="createTime != null">
				and create_time = #{createTime}
			</if>
			<if test="updateTime != null">
				and update_time = #{updateTime}
			</if>
			<if test="platformId != null">
				and platform_id = #{platformId}
			</if>
			<if test="isDefault != null">
				and is_default = #{isDefault}
			</if>
			<if test="modifyMail != null">
				and modify_mail = #{modifyMail}
			</if>
		</where>
	</delete>

	<update id="cancelReceiverAddressByUserId">
		UPDATE receiver_address set is_default = 0
		WHERE is_default = 1 and user_id = #{userId}
	</update>


</mapper>
	